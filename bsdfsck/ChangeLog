Thu Jul  6 15:30:43 1995  Michael I Bushnell  <mib@duality.gnu.ai.mit.edu>

	* Makefile (tables.o): Delete target.
	(vpath tables.c): Tell where to find tables.c.

	* Makefile: Removed dependencies that are now automatically
 	generated.

Thu Nov  3 17:18:35 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* Makefile (dir): Changed to bsdfsck.
	(target): Changed to bsdfsck.

Thu Oct  6 13:19:25 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* dir.c (dircheck): Fix from Charles Hannum: dircheck() shouldn't
	be looking at d_type or d_namlen in blank entries *at all*.  Not
	only is it wrong, but it causes a serious problem on little-endian
	machines, since after -c2 conversion, d_type will often be > 15.

Wed Oct  5 12:53:45 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* pass1.c (checkinode) [mode == 0]: Check that di_trans
	is also clear here.

	* fsck.h (IFTODT): Provide macro here.
	* inode.c: Not here.

Tue Oct  4 22:42:54 1994  Michael I Bushnell  <mib@churchy.gnu.ai.mit.edu>

	* inode.c (ckinode) [dino.di_trans set]: Only call IDESC->id_func
	if IDESC->id_type is ADDR (meaning call function for each block).
	If it's DATA, then that means call dirscan on each data block, 
	something entirely different.
	
	* inode.c (IFTODT): Provide macro.

Fri Sep 30 21:28:57 1994  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>

	* Makefile (LCLHDRS): Define.

Fri Sep 16 10:57:04 1994  Michael I Bushnell  <mib@churchy.gnu.ai.mit.edu>

	* fsck.h (direct): Define macro.

Thu Sep  1 14:51:23 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* inode.c (ckinode): Don't pay attention to fs_maxsymlinklen
	if it's -1.
	* pass1.c (checkinode): Likewise.

	* fsck.h (DI_MODE): Use | not & for bitwise disjunction.

Fri Aug 26 12:35:21 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* main.c (main): Don't call checkblock.

	* pass5.c (ffs_fragacct): Copy in function from ../ufs/subr.c.

	* inode.c (ckinode): Call IDESC->id_func for passive translator
	if it's set.

Thu Aug 25 11:07:05 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* setup.c: Don't include <disklabel.h>.
	(setup): Comment out variable LP and label fetching code.
	(calcsb, getdisklabel): Comment out functions.  Replace
	calcsb with one returning constant zero.

	* main.c: Don't include <sys/mount.h> or <fstab.h>.
	(main): Don't run checkfstab; just print an error in that case.
	(docheck): Comment out this function.
	(checkfilesys): Comment out special code for HOTROOT.

Wed Aug 24 11:11:23 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* fsck.h (NBBY): Define macro.

Tue Aug 23 15:54:49 1994  Michael I Bushnell  <mib@geech.gnu.ai.mit.edu>

	* dir.c (fileerror): Use DI_MODE instead of di_mode member.
	(adjust): Likewise.
	(linkup): Likewise.
	* inode.c (ckinode): Likewise.
	(clri): Likewise.
	(pinode): Likewise.
	* pass1.c (checkinode): Likewise.
	* pass2.c (pass2check): Likewise.
	* utilities.c (ftypeok): Likewise.

	* inode.c (allocino): Set di_model and di_modeh instead of di_mode.
	* pass1.c (checkinode): Likewise.
	* pass2.c (pass2): Likewise.

	* fsck.h (DIRSIZ): Replace ufs version with old BSD version.
	(struct dirtemplate, struct odirtemplate): Proved old BSD types.
	(DEV_BSIZE, MAXPATHLEN): Provide definitions.
	(DI_MODE): New macro.
