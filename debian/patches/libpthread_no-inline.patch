Index: libpthread/sysdeps/generic/bits/mutex.h
===================================================================
RCS file: /cvsroot/hurd/hurd/libpthread/sysdeps/generic/bits/mutex.h,v
retrieving revision 1.4
diff -u -p -r1.4 mutex.h
--- libpthread/sysdeps/generic/bits/mutex.h	4 Mar 2007 00:05:21 -0000	1.4
+++ libpthread/sysdeps/generic/bits/mutex.h	2 Aug 2007 17:41:05 -0000
@@ -62,78 +62,6 @@ struct __pthread_mutex
 #include <errno.h>
 #include <stddef.h>
 
-#ifdef __USE_EXTERN_INLINES
-
-# ifndef _EXTERN_INLINE
-#  define _EXTERN_INLINE extern __inline
-# endif
-
-_EXTERN_INLINE int
-pthread_mutex_init (struct __pthread_mutex *__restrict __mutex,
-		    const pthread_mutexattr_t *__restrict attr)
-{
-  struct __pthread_mutex initialized_mutex = __PTHREAD_MUTEX_INITIALIZER;
-
-  extern int _pthread_mutex_init (struct __pthread_mutex *,
-				  const pthread_mutexattr_t *);
-
-  if (attr)
-    return _pthread_mutex_init (__mutex, attr);
-
-  *__mutex = initialized_mutex;
-  return 0;
-}
-
-_EXTERN_INLINE int
-pthread_mutex_destroy (struct __pthread_mutex *__mutex)
-{
-  extern int _pthread_mutex_destroy (struct __pthread_mutex *);
-
-  if (__mutex->attr || __mutex->data)
-    return _pthread_mutex_destroy (__mutex);
-
-  return 0;
-}
-
-_EXTERN_INLINE int
-__pthread_mutex_lock (struct __pthread_mutex *__mutex)
-{
-  extern int _pthread_mutex_lock (struct __pthread_mutex *);
-  
-  if (__mutex->attr == NULL
-      && __mutex->data == NULL
-      && __pthread_spin_trylock (&__mutex->__held) == 0)
-    return 0;
-
-  return _pthread_mutex_lock (__mutex);
-}
-
-extern __inline int
-__pthread_mutex_trylock (struct __pthread_mutex *__mutex)
-{
-  extern int _pthread_mutex_trylock (struct __pthread_mutex *);
-  
-  if (__mutex->attr == NULL
-      && __mutex->data == NULL)
-    return __pthread_spin_trylock (&__mutex->__held);
-
-  return _pthread_mutex_trylock (__mutex);
-}
-
-extern __inline int
-pthread_mutex_lock (struct __pthread_mutex *__mutex)
-{
-  return __pthread_mutex_lock (__mutex);
-}
-
-extern __inline int
-pthread_mutex_trylock (struct __pthread_mutex *__mutex)
-{
-  return __pthread_mutex_trylock (__mutex);
-}
-
-#endif /* Use extern inlines.  */
-
 #endif
 
 #endif /* bits/mutex.h */
Index: libpthread/sysdeps/generic/bits/rwlock.h
===================================================================
RCS file: /cvsroot/hurd/hurd/libpthread/sysdeps/generic/bits/rwlock.h,v
retrieving revision 1.4
diff -u -p -r1.4 rwlock.h
--- libpthread/sysdeps/generic/bits/rwlock.h	24 Jun 2007 15:11:52 -0000	1.4
+++ libpthread/sysdeps/generic/bits/rwlock.h	2 Aug 2007 17:41:05 -0000
@@ -43,31 +43,4 @@ struct __pthread_rwlock
     { __SPIN_LOCK_INITIALIZER, __SPIN_LOCK_INITIALIZER, 0, 0, 0, 0, 0 }
 
 
-_EXTERN_INLINE int
-pthread_rwlock_init (struct __pthread_rwlock *__restrict __rwlock,
-		     const struct __pthread_rwlockattr *__restrict __attr)
-{
-  struct __pthread_rwlock initialized_rwlock = __PTHREAD_RWLOCK_INITIALIZER;
-  extern int _pthread_rwlock_init (struct __pthread_rwlock *,
-				   const struct __pthread_rwlockattr *);
-
-  if (__attr)
-    return _pthread_rwlock_init (__rwlock, __attr);
-
-  *__rwlock = initialized_rwlock;
-  return 0;
-}
-
-_EXTERN_INLINE int
-pthread_rwlock_destroy (struct __pthread_rwlock *__rwlock)
-{
-  extern int _pthread_rwlock_destroy (struct __pthread_rwlock *);
-
-  if (__rwlock->__attr
-      || __rwlock->__data)
-    return _pthread_rwlock_destroy (__rwlock);
-
-  return 0;
-}
-
 #endif /* bits/rwlock.h */
